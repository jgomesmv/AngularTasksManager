<section class="c-usersGrid__header">
  <div class="c-usersGrid__filters">
    <text-filter
      class="c-usersGrid__filter"
      (filterChanged)="volunteerNameFilterChanged($event)"
    ></text-filter>
    <dropdown-filter
      class="c-usersGrid__filter"
      (valueSelected)="groupNameFilterChanged($event)"
      [selectList]="groupSelectList"
    ></dropdown-filter>
  </div>
  <div
    id="pendingTasks"
    class="c-usersGrid__pendingTasksList"
    cdkDropList
    [cdkDropListData]="pendingTimelineItems"
    [cdkDropListConnectedTo]="gridItemsConnectedTo"
    cdkDropListSortingDisabled
    (cdkDropListDropped)="drop($event)"
  >
    <div
      class="c-usersGrid__task c-usersGrid__task--pending"
      *ngFor="let pendingItem of pendingTimelineItems"
      [cdkDragData]="pendingItem"
      cdkDrag
    >
      {{ pendingItem.name }}
    </div>
  </div>
</section>
<table class="c-usersGrid__table">
  <thead>
    <tr>
      <th class="c-usersGrid__cell c-usersGrid__cell--header">Volunters</th>
      <th class="c-usersGrid__cell c-usersGrid__cell--header">Area</th>
      <th class="c-usersGrid__cell c-usersGrid__cell--header">08-09</th>
      <th class="c-usersGrid__cell c-usersGrid__cell--header">09-10</th>
      <th class="c-usersGrid__cell c-usersGrid__cell--header">10-11</th>
      <th class="c-usersGrid__cell c-usersGrid__cell--header">11-12</th>
      <th class="c-usersGrid__cell c-usersGrid__cell--header">12-13</th>
      <th class="c-usersGrid__cell c-usersGrid__cell--header">13-14</th>
      <th class="c-usersGrid__cell c-usersGrid__cell--header">14-15</th>
      <th class="c-usersGrid__cell c-usersGrid__cell--header">15-16</th>
      <th class="c-usersGrid__cell c-usersGrid__cell--header">16-17</th>
      <th class="c-usersGrid__cell c-usersGrid__cell--header">17-18</th>
    </tr>
  </thead>
  <tbody>
    <tr
      *ngFor="
        let gridItem of gridItems
          | filter: 'name,email':nameFilterValue
          | filter: 'groups':groupFilterValue
      "
    >
      <td class="c-usersGrid__cell c-usersGrid__userName">
        {{ gridItem.name }}
      </td>
      <td class="c-usersGrid__cell c-usersGrid__area">{{ gridItem.areas }}</td>
      <td colspan="10">
        <div
          id="{{ gridItem.name }}_gridItems"
          class="c-usersGrid__userTasksList"
          cdkDropList
          [cdkDropListData]="gridItem.gridTimelineItems"
          [cdkDropListConnectedTo]="gridItemsConnectedTo"
          (cdkDropListDropped)="drop($event)"
        >
          <div
            *ngFor="let gridTimelineItem of gridItem.gridTimelineItems"
            [ngStyle]="getGridItemStyles(gridTimelineItem)"
            class="c-usersGrid__task c-usersGrid__task--user"
            cdkDrag
            [cdkDragData]="gridTimelineItem"
            [cdkDragDisabled]="
              gridTimelineItem.type === GridItemType.timeGap ? '' : null
            "
          >
            {{ gridTimelineItem.name }}
          </div>
        </div>
      </td>
    </tr>
  </tbody>
</table>
